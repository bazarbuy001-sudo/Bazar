<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - Bazar Buy</title>
  <link rel="stylesheet" href="/admin/css/admin-styles.css">
</head>
<body id="app">

  <!-- LOGIN PAGE -->
  <div id="login-page" class="login-page">
    <div class="login-container">
      <div class="login-box">
        <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
        <p class="subtitle">Bazar Buy</p>
        
        <form id="login-form" class="login-form">
          <div class="form-group">
            <label for="email">Email:</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              placeholder="admin@bazarbuy.com" 
              required
            >
          </div>

          <div class="form-group">
            <label for="password">–ü–∞—Ä–æ–ª—å:</label>
            <input 
              type="password" 
              id="password" 
              name="password" 
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
              required
            >
          </div>

          <button type="submit" class="btn btn-primary btn-login">–í–æ–π—Ç–∏</button>
          
          <div id="login-error" class="alert alert-danger hidden">
            <span id="error-message"></span>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- MAIN DASHBOARD (Hidden initially) -->
  <div id="dashboard-page" class="admin-container hidden">
    <!-- SIDEBAR -->
    <aside class="admin-sidebar">
      <div class="sidebar-header">
        <h1>Bazar Buy</h1>
      </div>

      <nav class="sidebar-nav">
        <li><a href="#dashboard" class="nav-link active">üìä –î–∞—à–±–æ—Ä–¥</a></li>
        <li><a href="#products" class="nav-link">üì¶ –¢–æ–≤–∞—Ä—ã</a></li>
        <li><a href="#orders" class="nav-link">üìã –ó–∞–∫–∞–∑—ã</a></li>
        <li><a href="#clients" class="nav-link">üë• –ö–ª–∏–µ–Ω—Ç—ã</a></li>
        <li><a href="#messages" class="nav-link">üí¨ –°–æ–æ–±—â–µ–Ω–∏—è</a></li>
        <li><a href="#settings" class="nav-link">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
        <li style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
          <a href="#" id="logout-btn" class="nav-link">üö™ –í—ã—Ö–æ–¥</a>
        </li>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="admin-main">
      <!-- HEADER -->
      <header class="admin-header">
        <div class="header-left">
          <h2 id="page-title">–î–∞—à–±–æ—Ä–¥</h2>
        </div>
        <div class="header-actions">
          <div class="header-user">
            <div class="header-user-avatar" id="user-avatar">A</div>
            <div class="header-user-info">
              <div class="header-user-name" id="user-name">Admin</div>
              <div class="header-user-role" id="user-role">admin</div>
            </div>
          </div>
          <button id="logout-btn-header" class="btn btn-secondary btn-small">–í—ã—Ö–æ–¥</button>
        </div>
      </header>

      <!-- CONTENT AREA -->
      <div class="admin-content">
        <!-- DASHBOARD VIEW -->
        <div id="view-dashboard" class="view active">
          <div class="card-grid">
            <div class="metric-card">
              <div class="metric-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
              <div class="metric-value" id="metric-total-orders">0</div>
              <div class="metric-change" id="metric-orders-change"></div>
            </div>
            <div class="metric-card">
              <div class="metric-label">–û–±—â–∏–π –¥–æ—Ö–æ–¥</div>
              <div class="metric-value" id="metric-total-revenue">0 ‚ÇΩ</div>
              <div class="metric-change" id="metric-revenue-change"></div>
            </div>
            <div class="metric-card">
              <div class="metric-label">–ù–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã</div>
              <div class="metric-value" id="metric-new-clients">0</div>
              <div class="metric-change" id="metric-clients-change"></div>
            </div>
            <div class="metric-card">
              <div class="metric-label">–°—Ä–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑</div>
              <div class="metric-value" id="metric-avg-order">0 ‚ÇΩ</div>
              <div class="metric-change"></div>
            </div>
          </div>

          <div class="card" style="margin-top: 30px;">
            <div class="card-header">–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤</div>
            <div id="dashboard-status-queue" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px;">
              <div class="status-item">
                <div class="status-count" id="status-pending">0</div>
                <div class="status-label">–ù–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É</div>
              </div>
              <div class="status-item">
                <div class="status-count" id="status-confirmed">0</div>
                <div class="status-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã</div>
              </div>
              <div class="status-item">
                <div class="status-count" id="status-processing">0</div>
                <div class="status-label">–ù–∞ –æ—Ç–ø—Ä–∞–≤–∫—É</div>
              </div>
              <div class="status-item">
                <div class="status-count" id="status-shipped">0</div>
                <div class="status-label">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</div>
              </div>
              <div class="status-item">
                <div class="status-count" id="status-delivered">0</div>
                <div class="status-label">–î–æ—Å—Ç–∞–≤–ª–µ–Ω—ã</div>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top: 20px;">
            <div class="card-header">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã</div>
            <div id="dashboard-recent-orders" class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>–ö–ª–∏–µ–Ω—Ç</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–°—É–º–º–∞</th>
                    <th>–î–∞—Ç–∞</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td colspan="5" class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- PRODUCTS VIEW -->
        <div id="view-products" class="view hidden">
          <div class="flex-between mb-20">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
            <div>
              <button class="btn btn-primary" id="btn-add-product">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
              <button class="btn btn-secondary" id="btn-import-products">üì• –ò–º–ø–æ—Ä—Ç</button>
            </div>
          </div>

          <div class="search-box">
            <input type="text" id="products-search" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
            <select id="products-category">
              <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            </select>
            <button class="btn btn-secondary">–ü–æ–∏—Å–∫</button>
          </div>

          <div id="products-table-container" class="table-container">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                  <th>–¶–µ–Ω–∞</th>
                  <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                  <th>–¶–≤–µ—Ç–∞</th>
                  <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
              </thead>
              <tbody id="products-tbody">
                <tr><td colspan="6" class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- ORDERS VIEW -->
        <div id="view-orders" class="view hidden">
          <div class="flex-between mb-20">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h2>
          </div>

          <div class="search-box">
            <input type="text" id="orders-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç—É...">
            <select id="orders-status-filter">
              <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
              <option value="pending">–ù–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É</option>
              <option value="confirmed">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã</option>
              <option value="processing">–ù–∞ –æ—Ç–ø—Ä–∞–≤–∫—É</option>
              <option value="shipped">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</option>
              <option value="delivered">–î–æ—Å—Ç–∞–≤–ª–µ–Ω—ã</option>
            </select>
            <button class="btn btn-secondary">–ü–æ–∏—Å–∫</button>
          </div>

          <div id="orders-table-container" class="table-container">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>–ö–ª–∏–µ–Ω—Ç</th>
                  <th>–°—Ç–∞—Ç—É—Å</th>
                  <th>–°—É–º–º–∞</th>
                  <th>–î–∞—Ç–∞</th>
                  <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
              </thead>
              <tbody id="orders-tbody">
                <tr><td colspan="6" class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- CLIENTS VIEW -->
        <div id="view-clients" class="view hidden">
          <div class="flex-between mb-20">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏</h2>
          </div>

          <div class="search-box">
            <input type="text" id="clients-search" placeholder="–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤...">
            <button class="btn btn-secondary">–ü–æ–∏—Å–∫</button>
          </div>

          <div id="clients-table-container" class="table-container">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>–ö–æ–º–ø–∞–Ω–∏—è</th>
                  <th>Email</th>
                  <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                  <th>–ì–æ—Ä–æ–¥</th>
                  <th>–°—Ç–∞—Ç—É—Å</th>
                  <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
              </thead>
              <tbody id="clients-tbody">
                <tr><td colspan="7" class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- MESSAGES VIEW -->
        <div id="view-messages" class="view hidden">
          <div class="flex-between mb-20">
            <h2>–°–æ–æ–±—â–µ–Ω–∏—è</h2>
          </div>

          <div style="display: grid; grid-template-columns: 300px 1fr; gap: 20px; height: 600px;">
            <div id="chats-list" class="card" style="overflow-y: auto;">
              <div class="card-header">–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã</div>
              <div id="chats-list-items"></div>
            </div>

            <div id="chat-view" class="card" style="display: flex; flex-direction: column;">
              <div class="card-header">–ß–∞—Ç</div>
              <div id="chat-messages" style="flex: 1; overflow-y: auto; padding: 15px; background: #f9f9f9;"></div>
              <div style="padding: 15px; border-top: 1px solid var(--border); display: flex; gap: 10px;">
                <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1;">
                <button class="btn btn-primary" id="btn-send-message">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
              </div>
            </div>
          </div>
        </div>

        <!-- SETTINGS VIEW -->
        <div id="view-settings" class="view hidden">
          <div class="card">
            <div class="card-header">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="form-group">
              <label>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</label>
              <p id="settings-info">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODALS -->
  <div id="product-modal" class="modal-overlay">
    <div class="modal" style="max-height: 90vh; overflow-y: auto;">
      <div class="modal-header">
        <h2 id="modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
        <button class="modal-close">&times;</button>
      </div>
      <form id="product-form" class="modal-body">

        <!-- STEP 1: SELECT PRODUCT TYPE -->
        <div id="step-1-type" class="form-step active">
          <div class="step-title">–®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞</div>
          
          <div class="form-group">
            <label for="product-type">–¢–∏–ø —Ç–æ–≤–∞—Ä–∞:</label>
            <select id="product-type" required>
              <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
              <option value="fabric">üì¶ –¢–∫–∞–Ω–∏</option>
              <option value="accessory">üßµ –§—É—Ä–Ω–∏—Ç—É—Ä–∞</option>
            </select>
          </div>
        </div>

        <!-- STEP 2: BASIC INFO (for both) -->
        <div id="step-2-basic" class="form-step hidden">
          <div class="step-title">–®–∞–≥ 2: –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="product-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
              <input type="text" id="product-name" required>
            </div>
            <div class="form-group">
              <label for="product-article">–ê—Ä—Ç–∏–∫—É–ª:</label>
              <input type="text" id="product-article" required>
            </div>
          </div>
        </div>

        <!-- STEP 3: –¢–ö–ê–ù–ò-SPECIFIC FIELDS -->
        <div id="step-3-fabric" class="form-step hidden">
          <div class="step-title">–®–∞–≥ 3: –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–∫–∞–Ω–∏</div>

          <!-- A. –ö–æ–º–º–µ—Ä—Ü–∏—è –∏ –Ω–∞–ª–∏—á–∏–µ -->
          <div class="section-header">üí∞ –ö–æ–º–º–µ—Ä—Ü–∏—è –∏ –Ω–∞–ª–∏—á–∏–µ</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-price">–¶–µ–Ω–∞ –∑–∞ –º–µ—Ç—Ä (‚ÇΩ):</label>
              <input type="number" id="fabric-price" step="0.01" required>
            </div>
            <div class="form-group">
              <label for="fabric-old-price">–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (‚ÇΩ):</label>
              <input type="number" id="fabric-old-price" step="0.01">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="fabric-min-cut">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:</label>
              <select id="fabric-min-cut" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="3">3 –º–µ—Ç—Ä–∞</option>
                <option value="6">6 –º–µ—Ç—Ä–æ–≤</option>
                <option value="10">10 –º–µ—Ç—Ä–æ–≤</option>
              </select>
            </div>
            <div class="form-group">
              <label for="fabric-warehouse">–ù–∞–ª–∏—á–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ (–º):</label>
              <input type="number" id="fabric-warehouse" step="0.1" required>
            </div>
          </div>

          <div class="form-row checkbox-row">
            <label class="checkbox-label">
              <input type="checkbox" id="fabric-is-new"> –ù–æ–≤–∏–Ω–∫–∞
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="fabric-is-sale"> –°–∫–∏–¥–∫–∞
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="fabric-is-rest"> –û—Å—Ç–∞—Ç–∫–∏ —Å–æ —Å–∫–∏–¥–∫–æ–π
            </label>
          </div>

          <!-- B. –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
          <div class="section-header">üé® –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-color">–¶–≤–µ—Ç:</label>
              <input type="text" id="fabric-color" required>
            </div>
            <div class="form-group">
              <label for="fabric-shade">–û—Ç—Ç–µ–Ω–æ–∫:</label>
              <input type="text" id="fabric-shade">
            </div>
            <div class="form-group">
              <label for="fabric-width">–®–∏—Ä–∏–Ω–∞ —Ç–∫–∞–Ω–∏ (—Å–º):</label>
              <input type="number" id="fabric-width" step="0.1" required>
            </div>
          </div>

          <!-- D. –°–æ—Å—Ç–∞–≤ (–°–õ–û–ñ–ù–´–ô –ë–õ–û–ö) -->
          <div class="section-header">üî¨ –°–æ—Å—Ç–∞–≤</div>
          <div id="fabric-composition-container">
            <div class="composition-item">
              <div class="form-row">
                <div class="form-group">
                  <label>–ú–∞—Ç–µ—Ä–∏–∞–ª:</label>
                  <input type="text" class="composition-material" placeholder="—Ö–ª–æ–ø–æ–∫, —Å–∏–Ω—Ç–µ—Ç–∏–∫–∞...">
                </div>
                <div class="form-group">
                  <label>–ü—Ä–æ—Ü–µ–Ω—Ç:</label>
                  <input type="number" class="composition-percent" min="0" max="100" placeholder="%">
                </div>
                <button type="button" class="btn-remove-composition" style="margin-top: 24px;">‚úï</button>
              </div>
            </div>
          </div>
          <button type="button" id="btn-add-composition" class="btn btn-secondary btn-small">+ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>

          <!-- E. –ü–ª–æ—Ç–Ω–æ—Å—Ç—å -->
          <div class="section-header">‚öñÔ∏è –ü–ª–æ—Ç–Ω–æ—Å—Ç—å</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-density-gsm">–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≥/–º¬≤:</label>
              <input type="number" id="fabric-density-gsm" step="0.1">
            </div>
            <div class="form-group">
              <label for="fabric-density-gpm">–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≥/–ø–æ–≥.–º (–¥–ª—è —Ç—Ä–∏–∫–æ—Ç–∞–∂–∞):</label>
              <input type="number" id="fabric-density-gpm" step="0.1">
            </div>
          </div>

          <!-- F. –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ -->
          <div class="section-header">‚ú® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-pattern">–£–∑–æ—Ä:</label>
              <input type="text" id="fabric-pattern" placeholder="–∫–ª–µ—Ç–∫–∞, –ø–æ–ª–æ—Å–∫–∞, —Ü–≤–µ—Ç—ã...">
            </div>
            <div class="form-group">
              <label for="fabric-print-type">–¢–∏–ø —Ä–∏—Å—É–Ω–∫–∞:</label>
              <select id="fabric-print-type">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–æ–¥–Ω–æ—Ç–æ–Ω–Ω–∞—è">–û–¥–Ω–æ—Ç–æ–Ω–Ω–∞—è</option>
                <option value="–ø—Ä–∏–Ω—Ç">–ü—Ä–∏–Ω—Ç</option>
                <option value="–∂–∞–∫–∫–∞—Ä–¥">–ñ–∞–∫–∫–∞—Ä–¥</option>
              </select>
            </div>
          </div>

          <!-- G. –¢–∏–ø –∏ —Å–≤–æ–π—Å—Ç–≤–∞ -->
          <div class="section-header">üè∑Ô∏è –¢–∏–ø –∏ —Å–≤–æ–π—Å—Ç–≤–∞</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-subtype">–ü–æ–¥—Ç–∏–ø —Ç–∫–∞–Ω–∏:</label>
              <input type="text" id="fabric-subtype" placeholder="—Ñ—É—Ç–µ—Ä, –∏–Ω—Ç–µ—Ä–ª–æ–∫, –±–∏—Ñ–ª–µ–∫—Å...">
            </div>
            <div class="form-group">
              <label for="fabric-properties">–°–≤–æ–π—Å—Ç–≤–∞:</label>
              <input type="text" id="fabric-properties" placeholder="—Å—Ç—Ä–µ–π—á, —ç–ª–∞—Å—Ç–∏—á–Ω–∞—è, —Ç—ë–ø–ª–∞—è...">
            </div>
          </div>

          <div class="form-group">
            <label for="fabric-purpose">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</label>
            <input type="text" id="fabric-purpose" placeholder="–¥–ª—è –ø–ª–∞—Ç—å–µ–≤, –¥–ª—è —Å–ø–æ—Ä—Ç–∞, –¥–ª—è —Å—É–º–æ–∫...">
          </div>

          <!-- H. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
          <div class="section-header">‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-meters-roll">–ú–µ—Ç—Ä–æ–≤ –≤ —Ä—É–ª–æ–Ω–µ:</label>
              <input type="number" id="fabric-meters-roll" step="0.1">
            </div>
            <div class="form-group">
              <label for="fabric-meters-kg">–ú–µ—Ç—Ä–æ–≤ –≤ 1 –∫–≥ (–º–∏–Ω–∏–º—É–º):</label>
              <input type="number" id="fabric-meters-kg" step="0.1">
            </div>
            <div class="form-group">
              <label for="fabric-country">–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:</label>
              <input type="text" id="fabric-country" placeholder="–†–æ—Å—Å–∏—è, –¢—É—Ä—Ü–∏—è...">
            </div>
          </div>

          <!-- I. –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
          <div class="section-header">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
          <div class="form-row">
            <div class="form-group">
              <label for="fabric-main-category">–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
              <select id="fabric-main-category" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–û–¥–µ–∂–Ω—ã–µ_—Ç–∫–∞–Ω–∏">–û–¥–µ–∂–Ω—ã–µ —Ç–∫–∞–Ω–∏</option>
                <option value="–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ_—Ç–∫–∞–Ω–∏">–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ —Ç–∫–∞–Ω–∏</option>
                <option value="–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ_—Ç–∫–∞–Ω–∏">–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ —Ç–∫–∞–Ω–∏</option>
                <option value="–¢–∫–∞–Ω–∏_–¥–ª—è_—Å–ø–µ—Ü–æ–¥–µ–∂–¥—ã">–¢–∫–∞–Ω–∏ –¥–ª—è —Å–ø–µ—Ü–æ–¥–µ–∂–¥—ã</option>
                <option value="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ_—Ç–∫–∞–Ω–∏">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–∫–∞–Ω–∏</option>
              </select>
            </div>
            <div class="form-group">
              <label for="fabric-subcategory">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
              <select id="fabric-subcategory" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—ã—à–µ --</option>
              </select>
            </div>
          </div>
        </div>

        <!-- STEP 3: –§–£–†–ù–ò–¢–£–†–ê-SPECIFIC FIELDS -->
        <div id="step-3-accessory" class="form-step hidden">
          <div class="step-title">–®–∞–≥ 3: –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã</div>

          <!-- B. –ö–æ–º–º–µ—Ä—Ü–∏—è –∏ –Ω–∞–ª–∏—á–∏–µ -->
          <div class="section-header">üí∞ –ö–æ–º–º–µ—Ä—Ü–∏—è –∏ –Ω–∞–ª–∏—á–∏–µ</div>
          <div class="form-row">
            <div class="form-group">
              <label for="acc-price">–¶–µ–Ω–∞ (‚ÇΩ):</label>
              <input type="number" id="acc-price" step="0.01" required>
            </div>
            <div class="form-group">
              <label for="acc-warehouse">–ù–∞–ª–∏—á–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ:</label>
              <input type="number" id="acc-warehouse" required>
            </div>
          </div>

          <div class="form-row checkbox-row">
            <label class="checkbox-label">
              <input type="checkbox" id="acc-is-new"> –ù–æ–≤–∏–Ω–∫–∞
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="acc-is-sale"> –°–∫–∏–¥–∫–∞
            </label>
          </div>

          <!-- C. –¶–≤–µ—Ç -->
          <div class="section-header">üé® –¶–≤–µ—Ç –∏ –º–∞—Ç–µ—Ä–∏–∞–ª</div>
          <div class="form-row">
            <div class="form-group">
              <label for="acc-color">–¶–≤–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
              <input type="text" id="acc-color">
            </div>
            <div class="form-group">
              <label for="acc-material">–ú–∞—Ç–µ—Ä–∏–∞–ª:</label>
              <select id="acc-material" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–º–µ—Ç–∞–ª–ª">–ú–µ—Ç–∞–ª–ª</option>
                <option value="–ø–ª–∞—Å—Ç–∏–∫">–ü–ª–∞—Å—Ç–∏–∫</option>
                <option value="—Ç–µ–∫—Å—Ç–∏–ª—å">–¢–µ–∫—Å—Ç–∏–ª—å</option>
                <option value="–∫–æ–∂–∞">–ö–æ–∂–∞</option>
                <option value="–¥–µ—Ä–µ–≤–æ">–î–µ—Ä–µ–≤–æ</option>
                <option value="–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π">–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
              </select>
            </div>
          </div>

          <!-- E. –¢–∏–ø / –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
          <div class="section-header">üîß –¢–∏–ø –∏ —Ä–∞–∑–º–µ—Ä</div>
          <div class="form-row">
            <div class="form-group">
              <label for="acc-type">–¢–∏–ø —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã:</label>
              <input type="text" id="acc-type" placeholder="—Å–ø–∏—Ä–∞–ª—å, —Ç—Ä–∞–∫—Ç–æ—Ä, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ..." required>
            </div>
            <div class="form-group">
              <label for="acc-size">–†–∞–∑–º–µ—Ä/–Ω–æ–º–µ—Ä/—Ñ–æ—Ä–º–∞—Ç:</label>
              <input type="text" id="acc-size" placeholder="–º–º, —Å–º, –Ω–æ–º–µ—Ä...">
            </div>
          </div>

          <!-- G. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã -->
          <div class="section-header">üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã</div>
          <div class="form-row">
            <div class="form-group">
              <label for="acc-application">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</label>
              <select id="acc-application">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–±–µ–ª—å–µ–≤–∞—è">–ë–µ–ª—å–µ–≤–∞—è</option>
                <option value="–¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è">–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è</option>
                <option value="—Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è</option>
                <option value="—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è</option>
              </select>
            </div>
            <div class="form-group">
              <label for="acc-finish">–ü–æ–∫—Ä—ã—Ç–∏–µ/–æ–±—Ä–∞–±–æ—Ç–∫–∞:</label>
              <input type="text" id="acc-finish" placeholder="–Ω–∏–∫–µ–ª—å, –º–∞—Ç–æ–≤—ã–π, –ª–∞–∫...">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="acc-brand">–ë—Ä–µ–Ω–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
              <input type="text" id="acc-brand" placeholder="YKK, Riri...">
            </div>
            <div class="form-group">
              <label for="acc-package">–§–æ—Ä–º–∞—Ç –ø—Ä–æ–¥–∞–∂–∏:</label>
              <select id="acc-package">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–ø–æ—à—Ç—É—á–Ω–æ">–ü–æ—à—Ç—É—á–Ω–æ</option>
                <option value="–Ω–∞–±–æ—Ä">–ù–∞–±–æ—Ä</option>
                <option value="–∫–∞—Ä—Ç–∞_—Ü–≤–µ—Ç–æ–≤">–ö–∞—Ä—Ç–∞ —Ü–≤–µ—Ç–æ–≤</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="acc-mounting">–°–ø–æ—Å–æ–± –∫—Ä–µ–ø–ª–µ–Ω–∏—è:</label>
            <input type="text" id="acc-mounting" placeholder="–ø—Ä–∏—à–∏–≤–Ω–æ–π, —Ç–µ—Ä–º–æ, –∫–ª–µ–µ–≤–æ–π...">
          </div>

          <!-- H. –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
          <div class="section-header">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
          <div class="form-row">
            <div class="form-group">
              <label for="acc-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã:</label>
              <select id="acc-category" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                <option value="–º–æ–ª–Ω–∏–∏">–ú–æ–ª–Ω–∏–∏</option>
                <option value="–ø—É–≥–æ–≤–∏—Ü—ã">–ü—É–≥–æ–≤–∏—Ü—ã</option>
                <option value="–∫—Ä—É–∂–µ–≤–æ">–ö—Ä—É–∂–µ–≤–æ</option>
                <option value="–∑–∞—Å—Ç–µ–∂–∫–∏">–ó–∞—Å—Ç–µ–∂–∫–∏</option>
                <option value="–ª–µ–Ω—Ç—ã_–æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ">–õ–µ–Ω—Ç—ã –æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ</option>
                <option value="–Ω–∏—Ç–∫–∏">–ù–∏—Ç–∫–∏</option>
                <option value="—Ä–µ–∑–∏–Ω–∞">–†–µ–∑–∏–Ω–∞</option>
                <option value="–±–µ–π–∫–∞">–ë–µ–π–∫–∞</option>
                <option value="—Ç–µ—Å—å–º–∞">–¢–µ—Å—å–º–∞</option>
                <option value="–∫–Ω–æ–ø–∫–∏">–ö–Ω–æ–ø–∫–∏</option>
                <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
              </select>
            </div>
          </div>
        </div>

        <!-- IMAGE UPLOAD SECTION -->
        <div class="form-group">
          <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–º–∞–∫—Å 5 —Ñ–∞–π–ª–æ–≤, 5MB –∑–∞ —Ñ–∞–π–ª)</label>
          <div id="image-upload-container" class="image-upload-container">
            <!-- Main image slot -->
            <div class="image-slot main-image-slot" data-slot="0" data-type="main">
              <div class="image-drop-zone">
                <div class="drop-icon">üì∏</div>
                <div class="drop-text">–û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ<br><small>(–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</small></div>
                <input type="file" class="image-file-input" accept="image/jpeg,image/png,image/webp" style="display: none;">
              </div>
              <div class="image-preview" style="display: none;">
                <img src="" alt="preview">
                <div class="image-badge main-badge">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
                <button type="button" class="btn-remove-image">‚úï</button>
              </div>
            </div>

            <!-- Additional image slots -->
            <div class="image-slot additional-image-slot" data-slot="1" data-type="additional">
              <div class="image-drop-zone">
                <div class="drop-icon">üñºÔ∏è</div>
                <div class="drop-text">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ<br><small>(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</small></div>
                <input type="file" class="image-file-input" accept="image/jpeg,image/png,image/webp" style="display: none;">
              </div>
              <div class="image-preview" style="display: none;">
                <img src="" alt="preview">
                <button type="button" class="btn-set-main">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º</button>
                <button type="button" class="btn-remove-image">‚úï</button>
              </div>
            </div>

            <div class="image-slot additional-image-slot" data-slot="2" data-type="additional">
              <div class="image-drop-zone">
                <div class="drop-icon">üñºÔ∏è</div>
                <div class="drop-text">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ<br><small>(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</small></div>
                <input type="file" class="image-file-input" accept="image/jpeg,image/png,image/webp" style="display: none;">
              </div>
              <div class="image-preview" style="display: none;">
                <img src="" alt="preview">
                <button type="button" class="btn-set-main">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º</button>
                <button type="button" class="btn-remove-image">‚úï</button>
              </div>
            </div>

            <div class="image-slot additional-image-slot" data-slot="3" data-type="additional">
              <div class="image-drop-zone">
                <div class="drop-icon">üñºÔ∏è</div>
                <div class="drop-text">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ<br><small>(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</small></div>
                <input type="file" class="image-file-input" accept="image/jpeg,image/png,image/webp" style="display: none;">
              </div>
              <div class="image-preview" style="display: none;">
                <img src="" alt="preview">
                <button type="button" class="btn-set-main">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º</button>
                <button type="button" class="btn-remove-image">‚úï</button>
              </div>
            </div>

            <div class="image-slot additional-image-slot" data-slot="4" data-type="additional">
              <div class="image-drop-zone">
                <div class="drop-icon">üñºÔ∏è</div>
                <div class="drop-text">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ<br><small>(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</small></div>
                <input type="file" class="image-file-input" accept="image/jpeg,image/png,image/webp" style="display: none;">
              </div>
              <div class="image-preview" style="display: none;">
                <img src="" alt="preview">
                <button type="button" class="btn-set-main">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º</button>
                <button type="button" class="btn-remove-image">‚úï</button>
              </div>
            </div>
          </div>
          <div id="image-upload-error" class="alert alert-danger hidden" style="margin-top: 10px;">
            <span id="image-error-message"></span>
          </div>
        </div>

        <!-- Hidden input to store image data -->
        <input type="hidden" id="product-images-data">
      </form>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="modal-cancel">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn btn-primary" id="modal-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <div id="order-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h2>–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body" id="order-modal-content">
        –ó–∞–≥—Ä—É–∑–∫–∞...
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="order-modal-close">–ó–∞–∫—Ä—ã—Ç—å</button>
        <button class="btn btn-primary" id="btn-print-invoice">–ü–µ—á–∞—Ç—å —Å—á–µ—Ç–∞</button>
      </div>
    </div>
  </div>

  <!-- TOAST CONTAINER -->
  <div class="toast-container" id="toast-container"></div>

  <!-- SCRIPTS -->
  <script src="/admin/js/api-client.js"></script>
  <script src="/admin/js/image-upload.js"></script>
  <script src="/admin/js/auth.js"></script>
  <script src="/admin/js/dashboard.js"></script>
  <script src="/admin/js/product-form-handler.js"></script>
  <script src="/admin/js/products-management.js"></script>
  <script src="/admin/js/orders-management.js"></script>
  <script src="/admin/js/clients-management.js"></script>
  <script src="/admin/js/messages-chat.js"></script>
</body>
</html>

<style>
  /* Login Page Styles */
  .login-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .login-container {
    width: 100%;
    padding: 20px;
  }

  .login-box {
    background: white;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    padding: 40px;
    max-width: 400px;
    margin: 0 auto;
  }

  .login-box h1 {
    text-align: center;
    color: #212121;
    margin-bottom: 5px;
  }

  .login-box .subtitle {
    text-align: center;
    color: #757575;
    margin-bottom: 30px;
    font-size: 14px;
  }

  .login-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .btn-login {
    padding: 12px;
    font-size: 16px;
    font-weight: 600;
  }

  .status-item {
    text-align: center;
    padding: 15px;
    background: #f5f5f5;
    border-radius: 4px;
  }

  .status-count {
    font-size: 24px;
    font-weight: 700;
    color: #1976d2;
  }

  .status-label {
    font-size: 12px;
    color: #757575;
    margin-top: 5px;
  }
</style>
